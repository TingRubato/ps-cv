<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta name="google-site-verification" content="1mT-6EuNpKY-Z9M2V4MlFQM1qX_V9hrQHgm5CcEvug0"> <meta http-equiv="Permissions-Policy" content="interest-cohort=()"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> PulsePace | Ting N/A Xu </title> <meta name="author" content="Ting N/A Xu"> <meta name="description" content="the metronome that you should feel."> <meta name="keywords" content="academic-website, portfolio-website"> <link rel="stylesheet" href="/ps-cv/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.css" integrity="sha256-uRX+PiRTR4ysKFRCykT8HLuRCub26LgXJZym3Yeom1c=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/ps-cv/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/ps-cv/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/ps-cv/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/ps-cv/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://tingrubato.github.io/ps-cv/projects/1_project/"> <script src="/ps-cv/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/ps-cv/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/ps-cv/"> <span class="font-weight-bold">Ting</span> N/A Xu </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/ps-cv/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/publications/">writings </a> </li> <li class="nav-item active"> <a class="nav-link" href="/ps-cv/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/cv/">CV </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/teaching/">teaching </a> </li> <li class="nav-item "> <a class="nav-link" href="/ps-cv/people/">people </a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus </a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <a class="dropdown-item " href="/ps-cv/publications/">publications</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/ps-cv/projects/">projects</a> <div class="dropdown-divider"></div> <a class="dropdown-item " href="/ps-cv/blog/">blog</a> </div> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">PulsePace</h1> <p class="post-description">the metronome that you should feel.</p> </header> <article> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/featured-480.webp 480w,/ps-cv/assets/img/pulsepace/featured-800.webp 800w,/ps-cv/assets/img/pulsepace/featured-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/featured.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="A Soundless Metronome" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> PulsePace Featured Image </div> <h1 id="introduction">Introduction</h1> <p>Musicians often struggle to maintain accurate rhythm during performances, a challenge that is typically overcome with the help of metronomes. However, conventional metronomes rely on sound or light cues to guide musicians, which can be distracting and difficult to follow. In this project, a novel approach is proposed that utilizes Transcutaneous Electrical Nerve Stimulation (TENS) technology instead of traditional cues. A TENS unit is a small, battery-operated device that delivers electrical impulses to the nerves and muscles through electrodes attached to the skin. This approach aims to develop a unique metronome that can provide more precise and intuitive guidance to musicians. The project objectives will be discussed in detail later in this section.</p> <p>Existing metronomes rely on visual or auditory cues, which can be distracting for both performers and audience members. For instance, during a live performance of Les Misérables, I noticed the conductor’s screen, which was used to guide the performers in keeping time. The screen’s light drew my attention, taking me away from the immersive experience. By employing a TENS unit to stimulate the muscles, performers can discreetly receive rhythmic guidance without drawing attention from the audience or disrupting the flow of the music.</p> <p>This TENS-based metronome aims to revolutionize the way musicians maintain rhythm, offering a more subtle and efficient alternative to conventional devices. By eliminating potential distractions caused by light or sound, this innovative approach promises to enhance the overall performance experience for both musicians and audiences alike.</p> <p>In addition, musicians may experience muscle tension during extended periods of practice, which can negatively impact their performance. By using a TENS unit in conjunction with a metronome during practice, musicians can promote muscle relaxation and reduce tension. This can help them feel more relaxed and comfortable while practicing, leading to better performance outcomes.</p> <p><strong>There is a crazier idea that popped into my mind. There are some sensors that can capture the electrical signals in muscles. What if we use these sensors to capture the muscle signals in various parts of a teacher’s hands and convert them into the same type of stimulation that can be transmitted to a TENS unit, allowing students to feel what correct playing is like? This way, students can learn to play more quickly and effectively, and it may also offer potential benefits for remote learning.</strong></p> <h2 id="project-objectives">Project Objectives</h2> <p>The objective of this project is to build a metronome using a TENS unit in combination with a Raspberry Pi 4 Model B and a Seeed Studios COM22639P Grove Module Relay. The metronome will be designed to read from a MIDI file to retrieve the rhythm pattern and generate signals for the TENS unit to stimulate the muscles of musicians. The specific goals of this project include:</p> <ol> <li>Developing a software program that can read MIDI files and extract the rhythm pattern for use with the TENS unit.</li> <li>Building a hardware interface between the Raspberry Pi 4 and the TENS unit, using the Grove Module Relay to control the output signals.</li> <li>Designing and testing the metronome to ensure that it accurately reproduces the rhythm pattern from the MIDI file and provides effective muscle stimulation for musicians.</li> <li>Leaving a backdoor for myself just in case that if a musician pisses me off, I can infiltrate the metronome and turn up the voltage to provide him/her/them/it with an unique opportunity to feel Pikachu’s extraordinary abilities.</li> </ol> <p>By achieving these objectives, this project will provide a novel and innovative tool for musicians to develop muscle memory and improve their performance skills, while also promoting better physical health and reducing the risk of injury.</p> <h2 id="scope-and-limitations">Scope and Limitations</h2> <p>The TENS Metronome project has certain limitations, which are outlined below:</p> <ol> <li>The effectiveness of muscle stimulation from the TENS unit in building muscle memory for musicians is not yet well-established and requires further research.</li> <li>The use of a TENS unit may interfere with other medical devices, such as pacemakers, and may not be suitable for musicians with such conditions.</li> <li>TENS units require adhesive pads to be attached to the skin, which may not adhere properly for individuals with excessive sweating.</li> <li>Adding wireless communication functionality to the device may create security vulnerabilities, potentially leading to harm from the strong pulse emitted by the TENS unit.</li> <li>Some music pieces may not have corresponding MIDI files, requiring additional work, such as optical character recognition (OCR) transcribing, to generate the required rhythm pattern for the TENS metronome.</li> </ol> <p>These limitations should be taken into consideration during the development and implementation of the TENS metronome project to ensure the safety and effectiveness of the device for musicians.</p> <h1 id="but-first-music-theory">But first, Music Theory</h1> <p><strong>Note:</strong> <em>Hey, buckle up and brace yourself for some bumpy reading! Bracelet yourselves, folks, ‘cause this part might have a few juicy tidbits of misinformation. So, put on your detective hats, grab a magnifying glass, and scrutinize me like a judge on a reality show. Go ahead, roast me, but make sure to sprinkle it with a generous dose of sugar-coated niceness!</em></p> <h2 id="meters">Meters</h2> <p>In music theory, a meter (or time signature) is a notation used to indicate the rhythm of a piece of music. It consists of two numbers written as a fraction, typically appearing at the beginning of a piece of sheet music. The top number represents the number of beats in each measure, while the bottom number represents the type of note that receives one beat. For example, in the common time signature 4/4, there are four beats per measure, and a quarter note receives one beat.</p> <h3 id="types-of-meters">Types of Meters</h3> <p>Meters can be classified into several categories based on the number of beats per measure and the type of note that receives one beat. The most common meters are:</p> <ol> <li>Simple meters: these meters have two, three, or four beats per measure, with each beat divided into two equal parts. Examples include 2/4, 3/4, and 4/4.</li> <li>Compound meters: these meters have six, nine, or twelve beats per measure, with each beat divided into three equal parts. Examples include 6/8, 9/8, and 12/8.</li> <li>Complex meters: these meters have an irregular number of beats per measure, or beats that are divided into an irregular number of parts. Examples include 5/4, 7/8, and 11/16.</li> </ol> <pre><code class="language-mermaid">flowchart TD
    A[Time Signature] --&gt; B[Check Bottom Number]
    B -- "2, 3, 4" --&gt; C[Simple Meter]
    B -- "6, 9, 12" --&gt; D[Compound Meter]
    B -- "Other" --&gt; E[Complex Meter]
</code></pre> <p>In the flowchart above, a method is shown to help understand a function in the Software section. Keep in mind that this flowchart doesn’t provide a flawless method for determining whether a meter is simple or compound. There may still be exceptions, such as simple duple, that are not covered by the flowchart.</p> <h3 id="strong-and-weak-beats">Strong and Weak Beats</h3> <p>In addition to the number of beats and their subdivisions, meters also have a characteristic “feel” or “groove” that depends on the pattern of strong and weak beats within a measure. The pattern of strong and weak beats is determined by the meter and is often indicated by conducting patterns, drum patterns, or other rhythmic notation.</p> <h3 id="role-in-music">Role in Music</h3> <p>Meters play a fundamental role in music, providing a structure for the rhythm and helping to establish the overall feel and character of a piece. They are also an important tool for composers and arrangers, who use them to create a sense of tension, release, and rhythmic interest.</p> <p>Overall, understanding meters is essential for anyone studying or performing music, as it provides a foundation for interpreting and expressing the rhythm and feel of a piece.</p> <h2 id="orchestra-size-and-settings">Orchestra Size And Settings</h2> <p>An orchestra refers to a well-structured assembly of musicians who play music composed specifically for the instruments or groups of instruments that make up the orchestra. The beauty of orchestral music can only be fully appreciated when the entire group plays together in the way the composer intended. Normally, a conductor guides the performance.</p> <p>This would help to determine what type of connectivity technology would be needed for this project.</p> <h3 id="composition-and-size-of-selected-orchestras-through-the-centuries">Composition and Size of Selected Orchestras Through the Centuries</h3> <table> <thead> <tr> <th>Date</th> <th>City and Orchestra</th> <th>V</th> <th>Va</th> <th>C</th> <th>DB</th> <th>F</th> <th>O</th> <th>Cl</th> <th>B</th> <th>Ho</th> <th>Tr</th> <th>T/T</th> <th>Ti</th> <th>Pc</th> <th>K</th> <th>Ha</th> <th>Total</th> </tr> </thead> <tbody> <tr> <td>1607</td> <td>Mantua, Palace, theatre (Orfeo)</td> <td>4</td> <td>4</td> <td>2</td> <td>2</td> <td>2</td> <td>-</td> <td>-</td> <td>-</td> <td>2</td> <td>4</td> <td>-</td> <td>-</td> <td>-</td> <td>5</td> <td>3+3</td> <td>31</td> </tr> <tr> <td>1634</td> <td>London, King’s Violins</td> <td>4</td> <td>7</td> <td>4</td> <td>-</td> <td> </td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>15</td> </tr> <tr> <td>1670s/80s</td> <td>Paris, Opera orchestra</td> <td>12</td> <td>6</td> <td>6</td> <td>-</td> <td>-</td> <td>4</td> <td>-</td> <td>-</td> <td>2</td> <td>2</td> <td>-</td> <td>-</td> <td>-</td> <td>1</td> <td>-</td> <td>32</td> </tr> <tr> <td>1708</td> <td>Rome, Court orchestra</td> <td>23</td> <td>4</td> <td>6</td> <td>6</td> <td>4</td> <td>-</td> <td>-</td> <td>2</td> <td>1</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>-</td> <td>1</td> <td>47</td> </tr> <tr> <td>1712</td> <td>King of Prussia, Court orchestra</td> <td>11</td> <td>2</td> <td>3</td> <td>2</td> <td>-</td> <td>4</td> <td>-</td> <td>3</td> <td>-</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>1</td> <td>-</td> <td>29</td> </tr> <tr> <td>1730</td> <td>Leipzig, for Bach’s cantatas</td> <td>6</td> <td>4</td> <td>2</td> <td>1</td> <td>-</td> <td>3</td> <td>-</td> <td>2</td> <td>-</td> <td>3</td> <td>-</td> <td>1</td> <td>-</td> <td>2</td> <td>-</td> <td>24</td> </tr> <tr> <td>1773</td> <td>Paris, Opera orchestra</td> <td>22</td> <td>5</td> <td>9</td> <td>6</td> <td>2</td> <td>3</td> <td>1</td> <td>8</td> <td>2</td> <td>1</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>57</td> </tr> <tr> <td>1773</td> <td>Paris, Concert spirituel orchestra</td> <td>24</td> <td>4</td> <td>10</td> <td>4</td> <td>2</td> <td>3</td> <td>2</td> <td>4</td> <td>2</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>58</td> </tr> <tr> <td>1777</td> <td>Mannheim, Court orchestra</td> <td>22</td> <td>4</td> <td>4</td> <td>4</td> <td>2</td> <td>2</td> <td>2</td> <td>4</td> <td>2</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>?</td> <td>-</td> <td>49</td> </tr> <tr> <td>1782</td> <td>Vienna, Court orchestra</td> <td>12</td> <td>4</td> <td>3</td> <td>3</td> <td>2</td> <td>2</td> <td>-</td> <td>2</td> <td>2</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>33</td> </tr> <tr> <td>1783</td> <td>Regensburg, Court orchestra</td> <td>12</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>4</td> <td>4</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>35</td> </tr> <tr> <td>1783</td> <td>Eszterháza, Court orchestra</td> <td>10</td> <td>2</td> <td>2</td> <td>2</td> <td>-</td> <td>2</td> <td>-</td> <td>2</td> <td>2</td> <td>?</td> <td>-</td> <td>?</td> <td>-</td> <td>-</td> <td>-</td> <td>22 ?</td> </tr> <tr> <td>1830</td> <td>Paris, for Symph.Fantastique</td> <td>30</td> <td>10</td> <td>11</td> <td>9</td> <td>2</td> <td>2</td> <td>2</td> <td>4</td> <td>4</td> <td>4</td> <td>3/2</td> <td>4</td> <td>3</td> <td>2</td> <td>-</td> <td>92</td> </tr> <tr> <td>1830</td> <td>Vienna Philharmonic, concert</td> <td>24</td> <td>10</td> <td>6</td> <td>6</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2/-</td> <td>1</td> <td>?</td> <td>-</td> <td>-</td> <td>61</td> </tr> <tr> <td>1865</td> <td>Leipzig Gewandhaus, concert</td> <td>30</td> <td>8</td> <td>9</td> <td>5</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>4</td> <td>2</td> <td>3/-</td> <td>1</td> <td>?</td> <td>-</td> <td>-</td> <td>70</td> </tr> <tr> <td>1900</td> <td>Vienna Philharmonic, concert</td> <td>33</td> <td>11</td> <td>10</td> <td>10</td> <td>4</td> <td>4</td> <td>4</td> <td>4</td> <td>8</td> <td>4</td> <td>5/1</td> <td>1</td> <td>4</td> <td>1</td> <td>-</td> <td>104</td> </tr> <tr> <td>1929</td> <td>Dresden Philharmonic, concert</td> <td>33</td> <td>11</td> <td>11</td> <td>11</td> <td>6</td> <td>6</td> <td>6</td> <td>6</td> <td>10</td> <td>6</td> <td>6/1</td> <td>1</td> <td>5</td> <td>-</td> <td>1</td> <td>120</td> </tr> <tr> <td>1974</td> <td>New York Philharmonic, concert</td> <td>34</td> <td>12</td> <td>12</td> <td>9</td> <td>4</td> <td>4</td> <td>5</td> <td>4</td> <td>6</td> <td>4</td> <td>4/1</td> <td>1</td> <td>4</td> <td>1</td> <td>1</td> <td>106</td> </tr> <tr> <td>1970</td> <td>National Arts Centre, Ottawa</td> <td>16</td> <td>7</td> <td>6</td> <td>4</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>1</td> <td>47</td> </tr> <tr> <td>2003</td> <td>Scottish Chamber, concert</td> <td>12</td> <td>5</td> <td>5</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>2</td> <td>-</td> <td>1</td> <td>-</td> <td>-</td> <td>-</td> <td>35</td> </tr> <tr> <td>2003</td> <td>Philharmonia, London</td> <td>27</td> <td>10</td> <td>9</td> <td>7</td> <td>3</td> <td>3</td> <td>4</td> <td>4</td> <td>4</td> <td>3</td> <td>3/1</td> <td>1</td> <td>3</td> <td>-</td> <td>2</td> <td>84</td> </tr> <tr> <td>2003</td> <td>Vancouver Symphony, concert</td> <td>21</td> <td>7</td> <td>8</td> <td>6</td> <td>3</td> <td>3</td> <td>4</td> <td>3</td> <td>4</td> <td>3</td> <td>3/1</td> <td>1</td> <td>2</td> <td>1</td> <td>1</td> <td>71</td> </tr> <tr> <td>2003</td> <td>New Zealand Symphony, concert</td> <td>28</td> <td>12</td> <td>9</td> <td>8</td> <td>3</td> <td>3</td> <td>4</td> <td>3</td> <td>5</td> <td>4</td> <td>3/1</td> <td>1</td> <td>3</td> <td>-</td> <td>1</td> <td>88</td> </tr> <tr> <td>2003</td> <td>Toronto Symphony</td> <td>29</td> <td>11</td> <td>10</td> <td>8</td> <td>4</td> <td>4</td> <td>4</td> <td>4</td> <td>6</td> <td>4</td> <td>4/1</td> <td>1</td> <td>4</td> <td>-</td> <td>1</td> <td>95</td> </tr> <tr> <td>2003</td> <td>Chicago Symphony</td> <td>36</td> <td>14</td> <td>12</td> <td>9</td> <td>4</td> <td>4</td> <td>4</td> <td>5</td> <td>5</td> <td>4</td> <td>4/1</td> <td>1</td> <td>4</td> <td>1</td> <td>2</td> <td>109</td> </tr> <tr> <td>2003</td> <td>O. de Suisse Romande, concert</td> <td>32</td> <td>12</td> <td>11</td> <td>9</td> <td>5</td> <td>5</td> <td>5</td> <td>5</td> <td>6</td> <td>5</td> <td>5/1</td> <td>1</td> <td>4</td> <td>1</td> <td>1</td> <td>108</td> </tr> <tr> <td>2003</td> <td>Berlin Philharmonic</td> <td>42</td> <td>16</td> <td>13</td> <td>12</td> <td>5</td> <td>5</td> <td>5</td> <td>5</td> <td>8</td> <td>5</td> <td>5/1</td> <td>2</td> <td>4</td> <td>-</td> <td>1</td> <td>129</td> </tr> <tr> <td>2003</td> <td>Vienna Philharmonic</td> <td>46</td> <td>17</td> <td>14</td> <td>13</td> <td>5</td> <td>6</td> <td>6</td> <td>6</td> <td>11</td> <td>6</td> <td>6/1</td> <td>2</td> <td>5</td> <td>-</td> <td>1</td> <td>145</td> </tr> </tbody> </table> <p><em>Table: Composition and Size of Selected Orchestras Through the Centuries</em></p> <h1 id="system-requirements-and-specifications">System Requirements and Specifications</h1> <h2 id="uml-diagram">UML Diagram</h2> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/UML-480.webp 480w,/ps-cv/assets/img/pulsepace/UML-800.webp 800w,/ps-cv/assets/img/pulsepace/UML-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/UML.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="UML Class Diagram showing the relationships and methods in the system." loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> UML Class Diagram showing the relationships and methods in the system. </div> <h2 id="hardware-design">Hardware Design</h2> <h3 id="hardware-requirement">Hardware Requirement</h3> <ul> <li>Raspberry Pi 4B</li> <li>2 Channel DC 5V Relay Module-Low Level Trigger</li> <li>TENS3000 Unit</li> <li>Some Jumper Cables</li> </ul> <h3 id="hardware-connection">Hardware Connection</h3> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/hw_connection_bb-480.webp 480w,/ps-cv/assets/img/pulsepace/hw_connection_bb-800.webp 800w,/ps-cv/assets/img/pulsepace/hw_connection_bb-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/hw_connection_bb.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Breadboard view of the hardware connections" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Breadboard view of the hardware connections </div> <h2 id="software-design">Software Design</h2> <h3 id="block-diagram">Block Diagram</h3> <pre><code class="language-mermaid">sequenceDiagram
    participant MetronomeController as Metronome Controller
    participant AWSIoTClient as AWS IoT Client
    participant MetronomeGPIO as GPIO

    MetronomeController-&gt;&gt;AWSIoTClient: Config data
    MetronomeController-&gt;&gt;MetronomeGPIO: shared_data
    loop Event Loop
        MetronomeController-&gt;&gt;AWSIoTClient: Subscribe
        AWSIoTClient--&gt;&gt;MetronomeController: On message
        MetronomeController-&gt;&gt;MetronomeGPIO: Control Relay
    end

</code></pre> <h3 id="state-machine">State Machine</h3> <pre><code class="language-mermaid">stateDiagram-v2
    Initializing --&gt; Subscribing: Connected
    Subscribing --&gt; WaitingForStatus: Subscribed
    WaitingForStatus --&gt; PlayingMetronome: StatusReceived
    PlayingMetronome --&gt; WaitingForStatus: StatusChanged

</code></pre> <h1 id="software-implementation-details">Software Implementation Details</h1> <p>This section provides documentation for the Python class <strong>MetronomeController</strong>. This class is responsible for controlling a metronome that is connected to an AWS IoT service using a Raspberry Pi.</p> <h2 id="dependencies">Dependencies</h2> <ul> <li> <code class="language-plaintext highlighter-rouge">RPi.GPIO</code> - provides access to the GPIO pins on the Raspberry Pi.</li> <li> <code class="language-plaintext highlighter-rouge">time</code> - provides access to sleep functions for timing.</li> <li> <code class="language-plaintext highlighter-rouge">threading</code> - provides access to threading functions.</li> <li> <code class="language-plaintext highlighter-rouge">json</code> - provides functions for encoding and decoding JSON data.</li> <li> <code class="language-plaintext highlighter-rouge">AWSIoTPythonSDK.MQTTLib</code> - provides access to the AWS IoT MQTT client.</li> </ul> <h2 id="class-attribute">Class Attribute</h2> <p>The <code class="language-plaintext highlighter-rouge">MetronomeController</code> class has the following attributes:</p> <ul> <li> <code class="language-plaintext highlighter-rouge">config</code> - a dictionary containing the configuration settings for the class.</li> <li> <code class="language-plaintext highlighter-rouge">shared_data</code> - a dictionary containing the shared data for the class.</li> <li> <code class="language-plaintext highlighter-rouge">is_playing</code> - a boolean indicating whether the metronome is currently playing.</li> <li> <code class="language-plaintext highlighter-rouge">received_all_event</code> - a threading event that is set when all expected messages have been received.</li> <li> <code class="language-plaintext highlighter-rouge">metronome_gpio</code> - an instance of the <code class="language-plaintext highlighter-rouge">MetronomeGPIO</code> class for controlling the metronome.</li> <li> <code class="language-plaintext highlighter-rouge">aws_iot_client</code> - an instance of the <code class="language-plaintext highlighter-rouge">AWSIoTClient</code> class for connecting to and interacting with the AWS IoT service.</li> </ul> <h2 id="class-methods">Class Methods</h2> <h3 id="method-__init__self-config">Method: <code class="language-plaintext highlighter-rouge">__init__(self, config)</code> </h3> <p>This method initializes the <code class="language-plaintext highlighter-rouge">MetronomeController</code> object.</p> <p><strong>Parameters</strong></p> <ul> <li> <code class="language-plaintext highlighter-rouge">config</code> - a dictionary containing the configuration settings for the class.</li> </ul> <h3 id="method-on_message_receivedself-client-userdata-message">Method: <code class="language-plaintext highlighter-rouge">on_message_received(self, client, userdata, message)</code> </h3> <p>This method is called when a message is received from the AWS IoT service. It decodes the JSON message and updates the shared data. If the metronome is not currently playing, it starts a new thread to play the metronome.</p> <p><strong>Parameters</strong></p> <ul> <li> <code class="language-plaintext highlighter-rouge">client</code> - the MQTT client instance.</li> <li> <code class="language-plaintext highlighter-rouge">userdata</code> - the user data that was passed to the MQTT client instance.</li> <li> <code class="language-plaintext highlighter-rouge">message</code> - the received message, which is an instance of the MQTTMessage class.</li> </ul> <h3 id="method-play_metronomeself">Method: <code class="language-plaintext highlighter-rouge">play_metronome(self)</code> </h3> <p>This method plays the metronome according to the shared data.</p> <h3 id="method-runself">Method: <code class="language-plaintext highlighter-rouge">run(self)</code> </h3> <p>This method runs the main loop of the program. It publishes a message to the AWS IoT service and subscribes to the status topic. It then waits for messages and handles them until the program is interrupted by the user.</p> <h2 id="nested-classes">Nested Classes</h2> <h3 id="class-metronomegpio">Class: <code class="language-plaintext highlighter-rouge">MetronomeGPIO</code> </h3> <p>This class provides a simple interface for controlling the GPIO pins on the Raspberry Pi.</p> <p><strong>Methods</strong></p> <ol> <li> <code class="language-plaintext highlighter-rouge">__init__(self, RelayPin)</code>: Initializes the GPIO pin and sets it to the default state.</li> <li> <code class="language-plaintext highlighter-rouge">output(self, value)</code>: Sets the state of the GPIO pin.</li> <li> <code class="language-plaintext highlighter-rouge">cleanup(self)</code>: Cleans up the GPIO pin.</li> </ol> <h3 id="class-awsiotclient">Class: <code class="language-plaintext highlighter-rouge">AWSIoTClient</code> </h3> <p>This class provides a simple interface for connecting to and interacting with the AWS IoT service.</p> <p><strong>Methods</strong></p> <ol> <li> <code class="language-plaintext highlighter-rouge">__init__(self, config)</code>: Initializes the AWS IoT client with the provided configuration settings.</li> <li> <code class="language-plaintext highlighter-rouge">connect(self)</code>: Connects the client to the AWS IoT service.</li> <li> <code class="language-plaintext highlighter-rouge">publish(self, topic, payload, QoS)</code>: Publishes a message to the AWS IoT service.</li> <li> <code class="language-plaintext highlighter-rouge">subscribe(self, topic, QoS, callback)</code>: Subscribes to a topic on the AWS IoT service.</li> <li> <code class="language-plaintext highlighter-rouge">unsubscribe(self, topic)</code>: Unsubscribes from a topic on the AWS IoT service.</li> <li> <code class="language-plaintext highlighter-rouge">disconnect(self)</code>: Disconnects the client from the AWS IoT service.</li> </ol> <h3 id="example-usage">Example Usage</h3> <p>An example usage of the <code class="language-plaintext highlighter-rouge">MetronomeController</code> class is shown below:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Note: Do not provide your credentials here.
</span>
<span class="kn">import</span> <span class="n">RPi.GPIO</span> <span class="k">as</span> <span class="n">GPIO</span>
<span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">threading</span>
<span class="kn">import</span> <span class="n">json</span>
<span class="kn">from</span> <span class="n">AWSIoTPythonSDK.MQTTLib</span> <span class="kn">import</span> <span class="n">AWSIoTMQTTClient</span>

<span class="c1"># Define configuration settings
</span><span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="sh">"</span><span class="s">RelayPin</span><span class="sh">"</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">target_ep</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">mamemimomu-ats.iot.us-east-1.amazonaws.com</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">thing_name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">RaspberryPi</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">cert_filepath</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">/home/pi/Desktop/AWSMetronome/certificate.pem.crt</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">private_key_filepath</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">/home/pi/Desktop/AWSMetronome/private.pem.key</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">ca_filepath</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">/home/pi/Desktop/AWSMetronome/AmazonRootCA1.pem</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">client_id</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">iotconsole-e699be3c-0460-4c81-a5bb-60c21ebc18fa</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">pub_topic</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">connection_topic</span><span class="sh">"</span><span class="p">,</span>
    <span class="sh">"</span><span class="s">sub_topic</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">status</span><span class="sh">"</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># Create a new MetronomeController object
</span><span class="n">metronome_controller</span> <span class="o">=</span> <span class="nc">MetronomeController</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># Run the metronome controller
</span><span class="n">metronome</span>

<span class="n">_controller</span><span class="p">.</span><span class="nf">run</span><span class="p">()</span>

</code></pre></div></div> <p>For further details on how to connect to AWS IoT Core, please refer to AWS documentation.</p> <h2 id="conclusion">Conclusion</h2> <p>The <code class="language-plaintext highlighter-rouge">MetronomeController</code> class provides a simple interface for controlling a metronome that is connected to an AWS IoT service using a Raspberry Pi. It uses the <code class="language-plaintext highlighter-rouge">RPi.GPIO</code> module for controlling the GPIO pins on the Raspberry Pi and the <code class="language-plaintext highlighter-rouge">AWSIoTPythonSDK.MQTTLib</code> module for interacting with the AWS IoT service. The class can be easily customized to fit specific metronome configurations and can be extended to support additional functionality.</p> <h1 id="lets-iot">Let’s IoT!</h1> <p>The Internet of Things (IoT) has revolutionized the way we interact with devices, allowing them to communicate with each other and share data in real-time. In recent years, Amazon Web Services (AWS) has emerged as a leading provider of IoT services, offering a wide range of tools and resources for developers to build and manage IoT applications. In this chapter, we will explore how the use of AWS IoT services can greatly enhance the experience of conductors managing these devices.<a class="citation" href="#kurniawan2018learning">(Kurniawan, 2018)</a></p> <p>By leveraging the power of AWS IoT Core and Lambda Function, conductors can remotely manage and synchronize the tempo and time signature of multiple metronomes with just a few clicks on their phone. In the following sections, we will dive into the technical details of setting up and implementing these services, and how they can help conductors efficiently manage and synchronize multiple metronomes in various musical contexts.</p> <p><strong>If any step didn’t work, check the policy and permissions.</strong></p> <h2 id="iot-core">IoT Core</h2> <p>To set up a thing type, thing group, and create things for a device called Tensnome in AWS IoT, follow these steps:</p> <h3 id="create-a-thing-type">Create a Thing Type:</h3> <ol> <li> <p>In the AWS IoT Console, go to the “Manage” tab and select “Thing Types”.</p> <p>Here we add a searchable attribute: Device_ID.</p> </li> <li>Click on the “Create” button and enter a name for the new thing type.</li> <li>Add any relevant attributes to the thing type, such as “Tempo” or “Time Signature”.</li> <li>Save the thing type.</li> </ol> <p>After that, we can see that a thing type is already created.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/Thing%20Types-480.webp 480w,/ps-cv/assets/img/pulsepace/Thing%20Types-800.webp 800w,/ps-cv/assets/img/pulsepace/Thing%20Types-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/Thing%20Types.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Created Thing Type" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Created Thing Type </div> <h3 id="create-a-thing">Create a Thing</h3> <ol> <li>In the AWS IoT Console, go to the “Manage” tab and select “Things”.</li> <li>Click on the “Create” button and enter a name for the new thing, such as “Raspberry Pi”.</li> <li>Select the thing type you created in step 1 for the thing. This would automatically add the attributes of the thing type that was created before, in this instance, it would be Device_ID.</li> <li>Save the thing.</li> </ol> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/Thing-480.webp 480w,/ps-cv/assets/img/pulsepace/Thing-800.webp 800w,/ps-cv/assets/img/pulsepace/Thing-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/Thing.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Created a Thing" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Created a Thing </div> <h3 id="create-a-rule">Create a Rule</h3> <ol> <li>In the AWS IoT Console, go to the “Manage” tab and select “Message Routing” and select “Rules”</li> <li>Click on the “Create Rule” button and enter a name for the Rule, e.g. “New_Status_published_Rule”.</li> <li> <p>Specify the SQL statement for the rule. Here the rule I created is used to take the user input. So the SQL Statement would.</p> <div class="language-sql highlighter-rouge"> <div class="highlight"><pre class="highlight"><code> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s1">'user/input'</span>
    
</code></pre></div> </div> </li> <li>Choose the source where the rule will get data from. Here it would be “user/input”.</li> <li>Add actions that should be taken when the rule is triggered. Here the action needed is: Send a message to a Lambda function. The lambda function should be created before this step. Here I will use the function: music_info_extract.</li> </ol> <p>After that, you should see a screen like this.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/rules-480.webp 480w,/ps-cv/assets/img/pulsepace/rules-800.webp 800w,/ps-cv/assets/img/pulsepace/rules-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/rules.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Created a Rule" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Created a Rule </div> <h2 id="aws-lambda">AWS Lambda</h2> <p>So in this section, I will go through how to implement a lambda function that can take the user’s input and retrieve the bpm and time signature based on the user’s input.</p> <ol> <li>Navigate to the AWS Lambda Console</li> <li>In the tab Functions, create a lambda function by clicking on the “Create Function” button. <ul> <li>Select the runtime environment for the function, here we pick Python.</li> <li>Create a new role in the “Role” dropdown menu, and provide a name for the role.</li> </ul> </li> <li>After the function is created, we need to do some environment setup to use a library called <strong>music21</strong> to get scores’ bpm and time signature. <ul> <li> <p>Install the Library Locally</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  user@ubuntu/&gt; <span class="nb">mkdir </span>music21_layer &amp; <span class="nb">cd </span>music21_layer
  user@ubuntu/&gt; pip3 <span class="nb">install </span>music21 <span class="nt">-t</span> <span class="nb">.</span>
</code></pre></div> </div> </li> <li> <p>Create Zip File</p> <div class="language-bash highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  user@ubuntu/&gt; zip <span class="nt">-r</span> music21_layer.zip
</code></pre></div> </div> </li> </ul> </li> <li>Navigate to <strong>Lambda &gt; Layers</strong> and create a layer. Then upload the zip file to the layer.</li> <li> <p>In the Code source panel, add the following script to the lambda_function.py.</p> <div class="language-python highlighter-rouge"> <div class="highlight"><pre class="highlight"><code>  <span class="kn">import</span> <span class="n">json</span>
  <span class="kn">import</span> <span class="n">boto3</span>
  <span class="kn">import</span> <span class="n">music21</span>
  <span class="kn">from</span> <span class="n">music21</span> <span class="kn">import</span> <span class="n">corpus</span><span class="p">,</span> <span class="n">tempo</span><span class="p">,</span> <span class="n">meter</span><span class="p">,</span> <span class="n">converter</span><span class="p">,</span> <span class="n">metadata</span>
  <span class="kn">from</span> <span class="n">music21.stream</span> <span class="kn">import</span> <span class="n">Score</span>
  <span class="kn">from</span> <span class="n">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
    
  <span class="n">music21</span><span class="p">.</span><span class="n">environment</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="sh">'</span><span class="s">autoDownload</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">allow</span><span class="sh">'</span><span class="p">)</span>
  <span class="n">client_id</span> <span class="o">=</span> <span class="sh">"</span><span class="s">iotconsole-af3331df-123d-4682-817d-e63ea14cc248</span><span class="sh">"</span>
  <span class="n">topic</span> <span class="o">=</span> <span class="sh">"</span><span class="s">status</span><span class="sh">"</span>
  <span class="n">iot_endpoint</span> <span class="o">=</span> <span class="sh">"</span><span class="s">&lt;https://a2lfjupb1otf51-ats.iot.us-east-1.amazonaws.com&gt;</span><span class="sh">"</span>
  <span class="n">iot_client</span> <span class="o">=</span> <span class="n">boto3</span><span class="p">.</span><span class="nf">client</span><span class="p">(</span><span class="sh">"</span><span class="s">iot-data</span><span class="sh">"</span><span class="p">,</span> <span class="n">region_name</span><span class="o">=</span><span class="sh">"</span><span class="s">us-east-1</span><span class="sh">"</span><span class="p">,</span> <span class="n">endpoint_url</span><span class="o">=</span><span class="n">iot_endpoint</span><span class="p">)</span>
    
  <span class="k">def</span> <span class="nf">get_time_signatures_from_piece</span><span class="p">(</span><span class="n">music_piece</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">music_piece</span><span class="p">,</span> <span class="n">Score</span><span class="p">):</span>
          <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">"</span><span class="s">Expected music_piece to be a Score object</span><span class="sh">"</span><span class="p">)</span>
    
      <span class="n">time_signatures</span> <span class="o">=</span> <span class="p">[]</span>
    
      <span class="n">time_signature_elements</span> <span class="o">=</span> <span class="n">music_piece</span><span class="p">.</span><span class="nf">getTimeSignatures</span><span class="p">()</span>
      <span class="k">for</span> <span class="n">element</span> <span class="ow">in</span> <span class="n">time_signature_elements</span><span class="p">:</span>
          <span class="n">time_signature</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="n">element</span><span class="p">.</span><span class="n">numerator</span><span class="si">}</span><span class="s">/</span><span class="si">{</span><span class="n">element</span><span class="p">.</span><span class="n">denominator</span><span class="si">}</span><span class="sh">"</span>
          <span class="k">if</span> <span class="n">time_signature</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">time_signatures</span><span class="p">:</span>
              <span class="n">time_signatures</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">time_signature</span><span class="p">)</span>
    
      <span class="k">return</span> <span class="n">time_signatures</span>
    
  <span class="k">def</span> <span class="nf">get_tempo_from_piece</span><span class="p">(</span><span class="n">music_piece</span><span class="p">:</span> <span class="n">Score</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
      <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">music_piece</span><span class="p">,</span> <span class="n">Score</span><span class="p">):</span>
          <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">"</span><span class="s">Expected music_piece to be a Score object</span><span class="sh">"</span><span class="p">)</span>
    
      <span class="n">metronome_marks</span> <span class="o">=</span> <span class="n">music_piece</span><span class="p">.</span><span class="nf">metronomeMarkBoundaries</span><span class="p">()</span>
      <span class="k">if</span> <span class="n">metronome_marks</span><span class="p">:</span>
          <span class="n">first_metronome_mark</span> <span class="o">=</span> <span class="n">metronome_marks</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
          <span class="n">bpm</span> <span class="o">=</span> <span class="n">first_metronome_mark</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">number</span>
          <span class="k">return</span> <span class="n">bpm</span>
      <span class="k">else</span><span class="p">:</span>
          <span class="k">return</span> <span class="bp">None</span>
    
  <span class="k">def</span> <span class="nf">find_music_piece</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
      <span class="sh">"""</span><span class="s">
      Find a music piece based on the given title.
    
      :param title: The title of the music piece to search for.
      :return: A matching music piece as a music21 Score object, or None if no match is found.
      </span><span class="sh">"""</span>
      <span class="c1"># Use the search() function to find a list of pieces with the given title
</span>      <span class="n">matches</span> <span class="o">=</span> <span class="n">corpus</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    
      <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">matches</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
          <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">No matches found for title: </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
          <span class="k">return</span> <span class="bp">None</span>
    
      <span class="c1"># Load the first match using parse()
</span>      <span class="k">try</span><span class="p">:</span>
          <span class="n">music_piece</span> <span class="o">=</span> <span class="n">converter</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
      <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
          <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Error loading music piece </span><span class="si">{</span><span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
          <span class="k">return</span> <span class="bp">None</span>
    
      <span class="k">return</span> <span class="n">music_piece</span>
    
  <span class="k">def</span> <span class="nf">lambda_handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">context</span><span class="p">):</span>
      <span class="n">metronome_id</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="sh">"</span><span class="s">metronomeID</span><span class="sh">"</span><span class="p">]</span>
      <span class="n">input_data</span> <span class="o">=</span> <span class="n">event</span><span class="p">[</span><span class="sh">"</span><span class="s">inputDATA</span><span class="sh">"</span><span class="p">]</span>
    
      <span class="k">if</span> <span class="sh">"</span><span class="s">bpm</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">input_data</span> <span class="ow">and</span> <span class="sh">"</span><span class="s">time_signature</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">input_data</span><span class="p">:</span>
          <span class="n">bpm</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="sh">"</span><span class="s">bpm</span><span class="sh">"</span><span class="p">]</span>
          <span class="n">time_signature</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="sh">"</span><span class="s">time_signature</span><span class="sh">"</span><span class="p">]</span>
      <span class="k">elif</span> <span class="sh">"</span><span class="s">title</span><span class="sh">"</span> <span class="ow">in</span> <span class="n">input_data</span><span class="p">:</span>
          <span class="n">music_piece_title</span> <span class="o">=</span> <span class="n">input_data</span><span class="p">[</span><span class="sh">"</span><span class="s">title</span><span class="sh">"</span><span class="p">]</span>
          <span class="n">music_score</span> <span class="o">=</span> <span class="nf">find_music_piece</span><span class="p">(</span><span class="n">music_piece_title</span><span class="p">)</span>
          <span class="k">if</span> <span class="n">music_score</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
              <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">music_score</span><span class="p">,</span> <span class="n">Score</span><span class="p">):</span>
                  <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">"</span><span class="s">Expected music_score to be a Score object</span><span class="sh">"</span><span class="p">)</span>
              <span class="n">bpm</span> <span class="o">=</span> <span class="nf">get_tempo_from_piece</span><span class="p">(</span><span class="n">music_score</span><span class="p">)</span>
              <span class="n">time_signature</span> <span class="o">=</span> <span class="nf">get_time_signatures_from_piece</span><span class="p">(</span><span class="n">music_score</span><span class="p">)</span>
              <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Score Loaded: </span><span class="si">{</span><span class="nf">dir</span><span class="p">(</span><span class="n">music_score</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
          <span class="k">else</span><span class="p">:</span>
              <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Invalid music piece: </span><span class="si">{</span><span class="n">music_piece_title</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
              <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">statusCode</span><span class="sh">"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span> <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="sa">f</span><span class="sh">"</span><span class="s">Invalid music title: </span><span class="si">{</span><span class="n">music_piece_title</span><span class="si">}</span><span class="sh">"</span><span class="p">}</span>
    
      <span class="k">else</span><span class="p">:</span>
          <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Invalid inputDATA format.</span><span class="sh">"</span><span class="p">)</span>
          <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">statusCode</span><span class="sh">"</span><span class="p">:</span> <span class="mi">400</span><span class="p">,</span> <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Invalid inputDATA format.</span><span class="sh">"</span><span class="p">}</span>
    
      <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">bpm: </span><span class="si">{</span><span class="n">bpm</span><span class="si">}</span><span class="s">, time_signature: </span><span class="si">{</span><span class="n">time_signature</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>  <span class="c1"># Debugging print statement
</span>    
      <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
          <span class="sh">"</span><span class="s">metronomeID</span><span class="sh">"</span><span class="p">:</span> <span class="n">metronome_id</span><span class="p">,</span>
          <span class="sh">"</span><span class="s">inputDATA</span><span class="sh">"</span><span class="p">:</span> <span class="p">{</span>
              <span class="sh">"</span><span class="s">bpm</span><span class="sh">"</span><span class="p">:</span> <span class="n">bpm</span><span class="p">,</span>
              <span class="sh">"</span><span class="s">time_signature</span><span class="sh">"</span><span class="p">:</span> <span class="n">time_signature</span>
          <span class="p">}</span>
      <span class="p">}</span>
    
      <span class="n">response</span> <span class="o">=</span> <span class="n">iot_client</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="n">topic</span><span class="o">=</span><span class="n">topic</span><span class="p">,</span> <span class="n">qos</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">payload</span><span class="o">=</span><span class="n">json</span><span class="p">.</span><span class="nf">dumps</span><span class="p">(</span><span class="n">message</span><span class="p">))</span>
    
      <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">statusCode</span><span class="sh">"</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="sh">"</span><span class="s">body</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Message published to music_info topic.</span><span class="sh">"</span><span class="p">}</span>
    
</code></pre></div> </div> </li> <li> <p>Add a Trigger</p> <p>If this lambda function is created from the new rule that we created from Message Routing setup, this should already be done.</p> <p>In the Trigger configuration, please set the trigger as listed below:</p> <ul> <li>Service: AWS IoT</li> <li>Select Custom IoT Rule</li> <li>Using existing rules:</li> </ul> </li> </ol> <p>arn:aws:iot:region<img class="emoji" title=":id:" alt=":id:" src="https://github.githubassets.com/images/icons/emoji/unicode/1f194.png" height="20" width="20">rule/New_Status_published_Rule</p> <p>After created, you should see this.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/trigger-480.webp 480w,/ps-cv/assets/img/pulsepace/trigger-800.webp 800w,/ps-cv/assets/img/pulsepace/trigger-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/trigger.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Add a trigger" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Add a trigger </div> <p>When everything is properly set, we can go to the Test Tab and send out a test function to see if it works.</p> <p>The Test Event JSON is:</p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"metronomeID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"inputDATA"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bwv101.7"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <p>You can replace the title with any song that you would like to use.</p> <p>If set properly, you should see an execution log saying that the “Message published to music_info(Actually status) topic.”</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/lambda_test-480.webp 480w,/ps-cv/assets/img/pulsepace/lambda_test-800.webp 800w,/ps-cv/assets/img/pulsepace/lambda_test-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/lambda_test.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="Test Output" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Test Output </div> <p>Then go to IoT Core Console, go to MQTT test client tab, subscribe to the topic. We can see that the music info is already sent to the topic.</p> <div class="row"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/pulsepace/mqtt_test-480.webp 480w,/ps-cv/assets/img/pulsepace/mqtt_test-800.webp 800w,/ps-cv/assets/img/pulsepace/mqtt_test-1400.webp 1400w," type="image/webp" sizes="95vw"></source> <img src="/ps-cv/assets/img/pulsepace/mqtt_test.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" title="MQTT test client" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> MQTT test client </div> </article> <h2>References</h2> <div class="publications"> <h2 class="bibliography">2018</h2> <ol class="bibliography"><li> <div class="row"> <div class="col col-sm-2 abbr"> <figure> <picture> <source class="responsive-img-srcset" srcset="/ps-cv/assets/img/publication_preview/aws-iot-480.webp 480w,/ps-cv/assets/img/publication_preview/aws-iot-800.webp 800w,/ps-cv/assets/img/publication_preview/aws-iot-1400.webp 1400w," type="image/webp" sizes="200px"> <img src="/ps-cv/assets/img/publication_preview/aws-iot.jpeg" class="preview z-depth-1 rounded" width="100%" height="auto" alt="aws-iot.jpeg" data-zoomable loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </source></picture> </figure> </div> <div id="kurniawan2018learning" class="col-sm-8"> <div class="title">Learning AWS IoT: Effectively manage connected devices on the AWS cloud using services such as AWS Greengrass, AWS button, predictive analytics and machine learning</div> <div class="author"> Agus Kurniawan </div> <div class="periodical"> 2018 </div> <div class="periodical"> </div> <div class="links"> </div> </div> </div> </li></ol> </div> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2024 Ting N/A Xu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a>, Thanks to <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">alshedivat</a>. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos by <a href="https://tingrubato.github.io" target="/ps-cv">Ting</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/ps-cv/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/ps-cv/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/mermaid@10.7.0/dist/mermaid.min.js" integrity="sha256-TtLOdUA8mstPoO6sGvHIGx2ceXrrX4KgIItO06XOn8A=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/d3@7.9.0/dist/d3.min.js" integrity="sha384-RBY1cIRrkEosR5cKmAZBmZmE3H6Ae57kTk2lykmIAt++sz+X8bzDF8E/KEsAiWrX" crossorigin="anonymous"></script> <script>let mermaidTheme=determineComputedTheme();document.addEventListener("readystatechange",()=>{"complete"===document.readyState&&(document.querySelectorAll("pre>code.language-mermaid").forEach(e=>{const t=e.textContent,d=e.parentElement;d.classList.add("unloaded");let a=document.createElement("pre");a.classList.add("mermaid");const n=document.createTextNode(t);a.appendChild(n),d.after(a)}),mermaid.initialize({theme:mermaidTheme}),"undefined"!=typeof d3&&window.addEventListener("load",function(){d3.selectAll(".mermaid svg").each(function(){var e=d3.select(this);e.html("<g>"+e.html()+"</g>");var t=e.select("g"),d=d3.zoom().on("zoom",function(e){t.attr("transform",e.transform)});e.call(d)})}))});</script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/ps-cv/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script defer src="https://cdn.jsdelivr.net/npm/bootstrap-table@1.22.4/dist/bootstrap-table.min.js" integrity="sha256-4rppopQE9POKfukn2kEvhJ9Um25Cf6+IDVkARD0xh78=" crossorigin="anonymous"></script> <script src="/ps-cv/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/ps-cv/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/ps-cv/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/ps-cv/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-TD05Q0L86X"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TD05Q0L86X");</script> <script async src="https://rum.cronitor.io/script.js"></script> <script>window.cronitor=window.cronitor||function(){(window.cronitor.q=window.cronitor.q||[]).push(arguments)},cronitor("config",{clientKey:"b6d9c38fafe730c9ad569c74850a245b"});</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/ps-cv/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script type="module" src="/ps-cv/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script>let searchTheme=determineComputedTheme();const ninjaKeys=document.querySelector("ninja-keys");"dark"===searchTheme?ninjaKeys.classList.add("dark"):ninjaKeys.classList.remove("dark");const openSearchModal=()=>{const e=$("#navbarNav");e.hasClass("show")&&e.collapse("hide"),ninjaKeys.open()};</script> <script>const ninja=document.querySelector("ninja-keys");ninja.data=[{id:"nav-about",title:"about",section:"Navigation",handler:()=>{window.location.href="/ps-cv/"}},{id:"nav-blog",title:"blog",description:"",section:"Navigation",handler:()=>{window.location.href="/ps-cv/blog/"}},{id:"nav-writings",title:"writings",description:"publications by categories in reversed chronological order. generated by jekyll-scholar.",section:"Navigation",handler:()=>{window.location.href="/ps-cv/publications/"}},{id:"nav-projects",title:"projects",description:"A growing collection of your cool projects.",section:"Navigation",handler:()=>{window.location.href="/ps-cv/projects/"}},{id:"nav-repositories",title:"repositories",description:"Edit the `_data/repositories.yml` and change the `github_users` and `github_repos` lists to include your own GitHub profile and repositories.",section:"Navigation",handler:()=>{window.location.href="/ps-cv/repositories/"}},{id:"nav-cv",title:"CV",description:"Everything you need to know about me.",section:"Navigation",handler:()=>{window.location.href="/ps-cv/cv/"}},{id:"nav-teaching",title:"teaching",description:"Materials for courses you taught. Replace this text with your description.",section:"Navigation",handler:()=>{window.location.href="/ps-cv/teaching/"}},{id:"nav-people",title:"people",description:"Ting&#39;s Story",section:"Navigation",handler:()=>{window.location.href="/ps-cv/people/"}},{id:"dropdown-publications",title:"publications",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-projects",title:"projects",description:"",section:"Dropdown",handler:()=>{window.location.href=""}},{id:"dropdown-blog",title:"blog",description:"",section:"Dropdown",handler:()=>{window.location.href="/ps-cv/blog/"}},{id:"post-a-post-with-image-galleries",title:"a post with image galleries",description:"this is what included image galleries could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/photo-gallery/"}},{id:"post-google-gemini-updates-flash-1-5-gemma-2-and-project-astra",title:'Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra <svg width="1.2rem" height="1.2rem" top=".5rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"We\u2019re sharing updates across our Gemini family of models and a glimpse of Project Astra, our vision for the future of AI assistants.",section:"Posts",handler:()=>{window.open("https://blog.google/technology/ai/google-gemini-update-flash-ai-assistant-io-2024/","_blank")}},{id:"post-a-post-with-tabs",title:"a post with tabs",description:"this is what included tabs in a post could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/tabs/"}},{id:"post-a-post-with-typograms",title:"a post with typograms",description:"this is what included typograms code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/typograms/"}},{id:"post-a-post-that-can-be-cited",title:"a post that can be cited",description:"this is what a post that can be cited looks like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/post-citation/"}},{id:"post-a-post-with-pseudo-code",title:"a post with pseudo code",description:"this is what included pseudo code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/pseudocode/"}},{id:"post-a-post-with-code-diff",title:"a post with code diff",description:"this is how you can display code diffs",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/code-diff/"}},{id:"post-a-post-with-advanced-image-components",title:"a post with advanced image components",description:"this is what advanced image components could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/advanced-images/"}},{id:"post-a-post-with-vega-lite",title:"a post with vega lite",description:"this is what included vega lite code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/vega-lite/"}},{id:"post-a-post-with-geojson",title:"a post with geojson",description:"this is what included geojson code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/geojson-map/"}},{id:"post-a-post-with-echarts",title:"a post with echarts",description:"this is what included echarts code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/echarts/"}},{id:"post-a-post-with-chart-js",title:"a post with chart.js",description:"this is what included chart.js code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2024/chartjs/"}},{id:"post-a-post-with-tikzjax",title:"a post with TikZJax",description:"this is what included TikZ code could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/tikzjax/"}},{id:"post-a-post-with-bibliography",title:"a post with bibliography",description:"an example of a blog post with bibliography",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/post-bibliography/"}},{id:"post-a-post-with-jupyter-notebook",title:"a post with jupyter notebook",description:"an example of a blog post with jupyter notebook",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/jupyter-notebook/"}},{id:"post-a-post-with-custom-blockquotes",title:"a post with custom blockquotes",description:"an example of a blog post with custom blockquotes",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/custom-blockquotes/"}},{id:"post-a-post-with-table-of-contents-on-a-sidebar",title:"a post with table of contents on a sidebar",description:"an example of a blog post with table of contents on a sidebar",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/sidebar-table-of-contents/"}},{id:"post-a-post-with-audios",title:"a post with audios",description:"this is what included audios could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/audios/"}},{id:"post-a-post-with-videos",title:"a post with videos",description:"this is what included videos could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/videos/"}},{id:"post-displaying-beautiful-tables-with-bootstrap-tables",title:"displaying beautiful tables with Bootstrap Tables",description:"an example of how to use Bootstrap Tables",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/tables/"}},{id:"post-a-post-with-table-of-contents",title:"a post with table of contents",description:"an example of a blog post with table of contents",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2023/table-of-contents/"}},{id:"post-a-post-with-giscus-comments",title:"a post with giscus comments",description:"an example of a blog post with giscus comments",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2022/giscus-comments/"}},{id:"post-displaying-external-posts-on-your-al-folio-blog",title:'Displaying External Posts on Your al-folio Blog <svg width="1.2rem" height="1.2rem" top=".5rem" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg"><path d="M17 13.5v6H5v-12h6m3-3h6v6m0-6-9 9" class="icon_svg-stroke" stroke="#999" stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg>',description:"",section:"Posts",handler:()=>{window.open("https://medium.com/@al-folio/displaying-external-posts-on-your-al-folio-blog-b60a1d241a0a?source=rss-17feae71c3c4------2","_blank")}},{id:"post-a-post-with-redirect",title:"a post with redirect",description:"you can also redirect to assets like pdf",section:"Posts",handler:()=>{window.location.href="/ps-cv/assets/pdf/example_pdf.pdf"}},{id:"post-a-post-with-diagrams",title:"a post with diagrams",description:"an example of a blog post with diagrams",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2021/diagrams/"}},{id:"post-a-distill-style-blog-post",title:"a distill-style blog post",description:"an example of a distill-style blog post and main elements",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2021/distill/"}},{id:"post-a-post-with-twitter",title:"a post with twitter",description:"an example of a blog post with twitter",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2020/twitter/"}},{id:"post-a-post-with-disqus-comments",title:"a post with disqus comments",description:"an example of a blog post with disqus comments",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2015/disqus-comments/"}},{id:"post-a-post-with-math",title:"a post with math",description:"an example of a blog post with some math",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2015/math/"}},{id:"post-a-post-with-code",title:"a post with code",description:"an example of a blog post with some code",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2015/code/"}},{id:"post-a-post-with-images",title:"a post with images",description:"this is what included images could look like",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2015/images/"}},{id:"post-a-post-with-formatting-and-links",title:"a post with formatting and links",description:"march &amp; april, looking forward to summer",section:"Posts",handler:()=>{window.location.href="/ps-cv/blog/2015/formatting-and-links/"}},{id:"news-portfolio-2-0-is-here",title:"Portfolio 2.0 is here! \ud83c\udf89",description:"",section:"News"},{id:"projects-pulsepace",title:"PulsePace",description:"the metronome that you should feel.",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/1_project/"}},{id:"projects-project-2",title:"project 2",description:"a project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/2_project/"}},{id:"projects-project-3-with-very-long-name",title:"project 3 with very long name",description:"a project that redirects to another website",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/3_project/"}},{id:"projects-project-4",title:"project 4",description:"another without an image",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/4_project/"}},{id:"projects-project-5",title:"project 5",description:"a project with a background image",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/5_project/"}},{id:"projects-project-6",title:"project 6",description:"a project with no image",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/6_project/"}},{id:"projects-project-7",title:"project 7",description:"with background image",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/7_project/"}},{id:"projects-project-8",title:"project 8",description:"an other project with a background image and giscus comments",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/8_project/"}},{id:"projects-project-9",title:"project 9",description:"another project with an image \ud83c\udf89",section:"Projects",handler:()=>{window.location.href="/ps-cv/projects/9_project/"}},{id:"social-email",title:"email",section:"Socials",handler:()=>{window.open("mailto:%79%6F%75@%65%78%61%6D%70%6C%65.%63%6F%6D","_blank")}},{id:"social-inspire",title:"Inspire HEP",section:"Socials",handler:()=>{window.open("https://inspirehep.net/authors/1010907","_blank")}},{id:"social-rss",title:"RSS Feed",section:"Socials",handler:()=>{window.open("/ps-cv/feed.xml","_blank")}},{id:"social-scholar",title:"Google Scholar",section:"Socials",handler:()=>{window.open("https://scholar.google.com/citations?user=qc6CJjYAAAAJ","_blank")}},{id:"social-custom_social",title:"Custom_social",section:"Socials",handler:()=>{window.open("https://www.alberteinstein.com/","_blank")}},{id:"light-theme",title:"Change theme to light",description:"Change the theme of the site to Light",section:"Theme",handler:()=>{setThemeSetting("light")}},{id:"dark-theme",title:"Change theme to dark",description:"Change the theme of the site to Dark",section:"Theme",handler:()=>{setThemeSetting("dark")}},{id:"system-theme",title:"Use system default theme",description:"Change the theme of the site to System Default",section:"Theme",handler:()=>{setThemeSetting("system")}}];</script> <script src="/ps-cv/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>