function renderWordCloudChart(t){const e=960,a=600,r=d3.select(t).append("svg").attr("width",e).attr("height",a).style("max-width","100%").style("height","auto").attr("font-family","Impact").attr("text-anchor","middle"),n=r.append("text").attr("x",e/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","bold").text("Word Cloud Visualization"),o=r.append("g").attr("transform",`translate(${e/2}, ${a/2})`);fetch("/ps-cv/assets/json/company name cloud.csv").then(t=>t.text()).then(t=>d3.csvParse(t,t=>({company_name:t.company_name.replace(/\+/g," "),scrap_time:new Date(t.scrap_time)}))).then(r=>{function s(){m=(m+1)%c.length,l.property("value",m);const t=c[m];d(t.words,t.time)}function d(t,r){const s=d3.utcFormat("%Y-%m-%d %H:%M:%S")(r);n.text(`As of ${s}`),d3.layout.cloud().size([e,a]).words(t.map(t=>({text:t.text,size:20*Math.sqrt(t.frequency)}))).padding(5).rotate(()=>Math.random()>.5?90:0).font("Impact").fontSize(t=>t.size).on("end",t=>{const e=o.selectAll("text").data(t,t=>t.text);e.enter().append("text").attr("font-size",1e-6).attr("fill",()=>d3.schemeCategory10[Math.floor(10*Math.random())]).attr("text-anchor","middle").text(t=>t.text).merge(e).transition().duration(1e3).ease(d3.easeCubicOut).attr("font-size",t=>t.size).attr("transform",t=>`translate(${t.x}, ${t.y}) rotate(${t.rotate})`),e.exit().transition().duration(1e3).ease(d3.easeCubicIn).attr("font-size",1e-6).attr("opacity",0).remove()}).start()}const i=d3.group(r,t=>d3.timeMinute(t.scrap_time)),c=Array.from(i,([t,e])=>({time:t,words:d3.rollup(e,t=>t.length,t=>t.company_name)})).map(t=>({time:t.time,words:Array.from(t.words,([t,e])=>({text:t,frequency:e}))})),l=d3.select(t).append("input").attr("type","range").attr("min",0).attr("max",c.length-1).attr("value",0);d3.select(t).append("p").attr("class","scrubber-label").style("text-align","center").style("margin-top","10px").text(`Showing data as of ${d3.utcFormat("%Y-%m-%d %H:%M:%S")(c[0].time)}`);let m=0;const p=setInterval(s,2e3);l.on("input",function(){clearInterval(p),m=+this.value;const t=c[m];t&&d(t.words,t.time)}),d(c[0].words,c[0].time)})["catch"](t=>console.error("Error loading word cloud CSV data:",t))}