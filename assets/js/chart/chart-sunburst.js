function renderSunburstChart(t){const e=900,a=e/6,n=d3.scaleOrdinal(d3.quantize(d3.interpolateRainbow,10));fetch("/ps-cv/assets/json/niw.json").then(t=>t.json()).then(r=>{function o(t,e){d.each(t=>{t.target={x0:2*Math.max(0,Math.min(1,(t.x0-e.x0)/(e.x1-e.x0)))*Math.PI,x1:2*Math.max(0,Math.min(1,(t.x1-e.x0)/(e.x1-e.x0)))*Math.PI,y0:Math.max(0,t.y0-e.depth),y1:Math.max(0,t.y1-e.depth)}});const a=y.transition().duration(750);m.transition(a).tween("data",t=>{const e=d3.interpolate(t.current,t.target);return a=>t.current=e(a)}).attrTween("d",t=>()=>h(t.current)),f.transition(a).attr("transform",t=>i(t.current)).attr("fill-opacity",t=>+s(t.target))}function s(t){return t.y1<=3&&t.y0>=1&&(t.y1-t.y0)*(t.x1-t.x0)>.03}function i(t){const e=((t.x0+t.x1)/2+x)*(180/Math.PI);return`rotate(${e-90}) translate(${(t.y0+t.y1)/2*a*u},0) rotate(${e<180?0:180})`}function l(){h.innerRadius(t=>t.y0*a*u).outerRadius(t=>Math.max(t.y0*a*u,t.y1*a*u-1)).startAngle(t=>t.x0+x).endAngle(t=>t.x1+x),m.attr("d",t=>h(t.current)),f.attr("transform",t=>i(t.current))}const c=d3.hierarchy(r).sum(t=>t.value||0).sort((t,e)=>e.value-t.value),d=d3.partition().size([2*Math.PI,c.height+1])(c);d.each(t=>t.current=t);let u=1,x=0;const h=d3.arc().startAngle(t=>t.x0+x).endAngle(t=>t.x1+x).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(1.5*a).innerRadius(t=>t.y0*a*u).outerRadius(t=>Math.max(t.y0*a*u,t.y1*a*u-1)),p=d3.select(t).append("svg").attr("width","100%").attr("height","100%").attr("viewBox",[-e/2,-e/2,e,e]).style("font","10px sans-serif"),y=p.append("g"),m=y.append("g").selectAll("path").data(d.descendants().slice(1)).join("path").attr("fill",t=>{for(;t.depth>1;)t=t.parent;return n(t.data.name)}).attr("fill-opacity",.6).attr("d",t=>h(t.current)).on("click",o);m.append("title").text(t=>`${t.ancestors().map(t=>t.data.name).reverse().join("/")}\n${t.value}`);const f=y.append("g").attr("pointer-events","none").attr("text-anchor","middle").style("user-select","none").selectAll("text").data(d.descendants().slice(1)).join("text").attr("dy","0.35em").style("font-size","9px").style("fill","#000").attr("transform",t=>i(t.current)).text(t=>t.data.name);y.append("circle").datum(d).attr("r",a/2.5).attr("fill","white").style("cursor","pointer").on("click",()=>o(null,d)).append("title").text("Click to return to the top layer");const g=d3.zoom().scaleExtent([.5,5]).on("zoom",t=>{u=t.transform.k,x=t.transform.x/100,l()});p.call(g)})["catch"](t=>console.error("Error loading JSON data:",t))}